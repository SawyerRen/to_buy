# To buy 文档

## store app

### 商品类别列表

Url: http://127.0.0.1:8000/store/categories/

Method: GET

Params:

```

```

Return:

```json
[
    {
        "id": 1,
        "is_deleted": false,
        "created_at": "2022-03-02T15:50:50Z",
        "updated_at": "2022-03-02T15:51:05Z",
        "name": "Cookies, Cakes, Desserts",
        "description": null
    },
    {
        "id": 2,
        "is_deleted": false,
        "created_at": "2022-03-02T15:50:50Z",
        "updated_at": "2022-03-02T15:51:05Z",
        "name": "Beverage, Milk Tea, Drink Mix\n",
        "description": null
    },
    {
        "id": 3,
        "is_deleted": false,
        "created_at": "2022-03-02T15:50:50Z",
        "updated_at": "2022-03-02T15:51:05Z",
        "name": "Jerky, Dried Seafood, Nuts",
        "description": ""
    },
    {
        "id": 4,
        "is_deleted": false,
        "created_at": "2022-03-02T15:50:50Z",
        "updated_at": "2022-03-02T15:51:05Z",
        "name": "Candy, Jelly, Chocolate",
        "description": null
    },
    {
        "id": 5,
        "is_deleted": false,
        "created_at": "2022-03-02T15:50:50Z",
        "updated_at": "2022-03-02T15:51:05Z",
        "name": "Chips & Crisps",
        "description": null
    }
]
```

### 商品类别列表

Url: http://127.0.0.1:8000/store/goods/?category_id=0&page=2&page_size=4

Method: GET

Params:

```python
category_id     int # 传0获取所有商品，否则按id查询
page			int # 页数
page_size		int # 页面大小
```

Return:

```json
[
    {
        "id": 5,
        "is_deleted": false,
        "created_at": "2022-03-02T16:36:16Z",
        "updated_at": "2022-03-02T16:36:16Z",
        "name": "Watermelon Stuffed Toast 480g",
        "description": "Watermelon Stuffed Toast 480g",
        "price": "13.99",
        "brand": "SNACK LAB",
        "inventory": 686,
        "sales": 417,
        "image_url": "https://cdn.yamibuy.net/item/e48a8c0c3d06624a296ba46b340759c6_64x64.webp",
        "discount": "1",
        "category": 1
    },
    {
        "id": 6,
        "is_deleted": false,
        "created_at": "2022-03-02T16:36:16Z",
        "updated_at": "2022-03-02T16:36:16Z",
        "name": "Chinese Classic Milk Bread, 480g",
        "description": "Chinese Classic Milk Bread, 480g",
        "price": "6.49",
        "brand": "ASIA FOODS",
        "inventory": 190,
        "sales": 727,
        "image_url": "https://cdn.yamibuy.net/item/73aaa07ee9ce88e58a568c856fe7ec95_64x64.webp",
        "discount": "1",
        "category": 1
    },
    {
        "id": 7,
        "is_deleted": false,
        "created_at": "2022-03-02T16:36:16Z",
        "updated_at": "2022-03-02T16:36:16Z",
        "name": "Breadsticks Cheese Flavor 380g",
        "description": "Breadsticks Cheese Flavor 380g",
        "price": "5.69",
        "brand": "LEJINJI",
        "inventory": 84,
        "sales": 676,
        "image_url": "https://cdn.yamibuy.net/item/aab10275f7280df7ea3456bf0cb40486_64x64.webp",
        "discount": "1",
        "category": 1
    },
    {
        "id": 8,
        "is_deleted": false,
        "created_at": "2022-03-02T16:36:16Z",
        "updated_at": "2022-03-02T16:36:16Z",
        "name": "Baked Cake Chocolate Flavor 95g",
        "description": "Baked Cake Chocolate Flavor 95g",
        "price": "2.29",
        "brand": "Ranli",
        "inventory": 806,
        "sales": 975,
        "image_url": "https://cdn.yamibuy.net/item/ee7bb39029b5f50a41eedcbafa4b5721_64x64.webp",
        "discount": "1",
        "category": 1
    }
]
```

### shopping cart:
URL: 127.0.0.1:8000/store/carts/   
Method: POST only, GET not allowed    
*Example request body*
```Json
{ 
   
}
```
Return :
```Json
{
  "id": "7854817a-eaa8-4552-8a2b-88a355c2fb13",
  "items": [],
  "total_price": 0
}
```

###getting to the cart:
URL: 127.0.0.1:8000/store/carts/cart_id   
Method: GET
*Example* http://127.0.0.1:8000/store/carts/7854817a-eaa8-4552-8a2b-88a355c2fb13/   
Return:
```Json
{
  "id": "7854817a-eaa8-4552-8a2b-88a355c2fb13",
  "items": [],
  "total_price": 0
}
```


###add item to cart:
URL: 127.0.0.1:8000/store/carts/cart_id/cartitems  
Method: POST
request body: 
```Json
{
  "goods_id": 1,
  "quantity": 2
}
```
Return:
*exampe:* 127.0.0.1:8000/store/carts/7854817a-eaa8-4552-8a2b-88a355c2fb13/cartitems
```Json
"id": 4,
"goods_id": 1,
"quantity": 2
{ 
```

###get cart items:
URL: 127.0.0.1:8000/store/carts/cart_id/cartitems    
Method : GET  
*example: *  http://127.0.0.1:8000/store/carts/7854817a-eaa8-4552-8a2b-88a355c2fb13/cartitems/
```Json
[
    {
        "id": 4,
        "goods": {
            "id": 1,
            "name": "Majime Millet Biscuits 130g",
            "description": "Majime Millet Biscuits 130g",
            "price": "3.29",
            "brand": "NOMURA",
            "inventory": 3290,
            "sales": 1287,
            "image_url": "https://cdn.yamibuy.net/item/5b7e5659e16cf59f0046e247babe0e3b_64x64.webp",
            "discount": "1",
            "category": 1
        },
        "quantity": 2,
        "total_price": 6.58
    },
    {
        "id": 5,
        "goods": {
            "id": 10,
            "name": "Baked Cake Red Velvet Flavor 95g",
            "description": "Baked Cake Red Velvet Flavor 95g",
            "price": "2.29",
            "brand": "Ranli",
            "inventory": 4509,
            "sales": 1239,
            "image_url": "https://cdn.yamibuy.net/item/30406f9696f578fbea69de8fed762ed5_64x64.webp",
            "discount": "1",
            "category": 1
        },
        "quantity": 5,
        "total_price": 11.45
    }
]
```

